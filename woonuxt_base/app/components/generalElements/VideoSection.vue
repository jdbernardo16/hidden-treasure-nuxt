<template>
    <section
       class="relative w-full cursor-none overflow-hidden lg:block flex items-center justify-center"
       @mousemove="updateCursor"
       @click="openModal"
    >
       <div class="relative aspect-[3/4] lg:aspect-[1440/737] w-full">
          <NuxtImg
             src="/images/video-thumbnail2.png"
             alt="image"
             class="h-full w-full object-cover"
             decoding="async"
             format="webp"
             quality="80"
             placeholder
             placeholder-class="blur-sm"
             loading="eager"
          />
          <div class="overlay absolute left-0 top-0 h-full w-full bg-black opacity-50"></div>
       </div>
 
       <div
          class="cursor-container"
          :style="{ top: cursorTop + 'px', left: cursorLeft + 'px' }"
       >
          <div
             class="custom-cursor relative flex h-full w-full lg:-translate-x-1/2 lg:-translate-y-1/2 items-center justify-center"
          >
             <svg
                width="34"
                height="39"
                viewBox="0 0 34 39"
                fill="none"
             >
                <path
                   d="M33.0605 19.1981L0.267351 38.1312L0.267353 0.264906L33.0605 19.1981Z"
                   fill="white"
                />
             </svg>

             <svg
                class="absolute left-0 top-0 h-full w-full animate-spin-slow"
                width="170"
                height="170"
                viewBox="0 0 170 170"
                fill="none"
             >
                <path
                   d="M28.4824 57.9887C28.1736 58.6685 27.7647 59.2414 27.2557 59.7072C26.7506 60.1646 26.1787 60.5096 25.5399 60.7422C24.905 60.9663 24.2361 61.0622 23.5332 61.0299C22.8303 60.9976 22.1262 60.8212 21.4209 60.5007C20.7156 60.1803 20.1177 59.7702 19.6271 59.2706C19.1319 58.7585 18.7641 58.1916 18.5238 57.5699C18.2788 56.9357 18.1686 56.2757 18.1932 55.5898C18.2093 54.9 18.3718 54.2152 18.6807 53.5354C18.9895 52.8556 19.3803 52.3002 19.8529 51.8691C20.3294 51.4295 20.8438 51.1096 21.3961 50.9094C21.9398 50.7054 22.4736 50.625 22.9973 50.6682L23.0173 52.5533C22.4604 52.5155 21.9324 52.6396 21.4335 52.9255C20.9261 53.2075 20.5353 53.6502 20.2612 54.2535C19.9909 54.8483 19.8918 55.4389 19.9637 56.0251C20.0395 56.6029 20.2659 57.1312 20.6429 57.61C21.0238 58.0804 21.5457 58.4661 22.2085 58.7673C22.8713 59.0684 23.5093 59.2096 24.1226 59.191C24.7313 59.16 25.2782 58.983 25.7632 58.6601C26.2521 58.3286 26.6317 57.8655 26.9019 57.2706C27.176 56.6673 27.2566 56.0837 27.1438 55.5199C27.0224 54.9522 26.7643 54.471 26.3695 54.0763L27.8026 52.8514C28.1796 53.2175 28.4743 53.6743 28.6869 54.2219C28.8909 54.7657 28.9841 55.3616 28.9664 56.0097C28.9526 56.6493 28.7913 57.3089 28.4824 57.9887Z"
                   fill="white"
                />
                <path
                   d="M37.0663 44.3415L29.3684 37.3039L30.6531 35.8987L37.1111 41.8027L40.1245 38.5065L41.3644 39.6401L37.0663 44.3415Z"
                   fill="white"
                />
                <path
                   d="M53.5113 30.662L48.3649 21.5901L50.021 20.6506L55.1674 29.7225L53.5113 30.662Z"
                   fill="white"
                />
                <path
                   d="M73.2112 23.5207C72.4797 23.6704 71.7759 23.6763 71.0999 23.5383C70.433 23.3986 69.8177 23.1386 69.254 22.7586C68.6995 22.3767 68.2288 21.8919 67.8418 21.3042C67.4548 20.7165 67.1836 20.0432 67.0283 19.2843C66.873 18.5254 66.8532 17.8006 66.9691 17.11C67.0923 16.4084 67.3348 15.7776 67.6965 15.2177C68.0656 14.6468 68.5348 14.1697 69.1041 13.7865C69.6717 13.394 70.3212 13.123 71.0527 12.9733C71.7842 12.8236 72.4632 12.8132 73.0898 12.9422C73.7255 13.0693 74.2867 13.2975 74.7732 13.6266C75.2579 13.9466 75.6367 14.3311 75.9096 14.7802L74.3962 15.9044C74.0994 15.4317 73.6887 15.0775 73.1642 14.8419C72.6378 14.5971 72.0499 14.5412 71.4007 14.674C70.7607 14.805 70.2246 15.0719 69.7926 15.4747C69.3697 15.8756 69.0754 16.3693 68.9096 16.9558C68.753 17.5404 68.7477 18.1893 68.8936 18.9026C69.0396 19.6158 69.3003 20.215 69.6759 20.7002C70.0588 21.1744 70.5234 21.5128 71.0698 21.7154C71.6253 21.9161 72.2231 21.9509 72.8631 21.8199C73.5123 21.6871 74.0319 21.4093 74.4217 20.9865C74.8096 20.5546 75.0472 20.063 75.1345 19.5117L76.9678 19.951C76.8932 20.4712 76.6969 20.9782 76.3788 21.472C76.0588 21.9567 75.6314 22.3823 75.0968 22.749C74.5712 23.1137 73.9427 23.371 73.2112 23.5207Z"
                   fill="white"
                />
                <path
                   d="M88.5319 22.2985L89.7007 11.9342L91.5927 12.1476L90.984 17.5454L90.4897 17.3065L95.488 12.5869L97.8669 12.8552L93.1829 17.2862L93.4448 15.9632L96.8234 23.2336L94.5975 22.9826L92.3297 18.1057L90.7518 19.6043L90.4239 22.5119L88.5319 22.2985Z"
                   fill="white"
                />
                <path
                   d="M126.629 38.3237L132.533 31.8657L130.539 30.0426L131.672 28.8026L137.045 33.7148L135.912 34.9547L133.949 33.1599L128.045 39.6178L126.629 38.3237Z"
                   fill="white"
                />
                <path
                   d="M139.039 54.0337C138.661 53.368 138.427 52.6802 138.335 51.9703C138.244 51.2603 138.287 50.5705 138.465 49.9008C138.643 49.231 138.947 48.6132 139.377 48.0473C139.82 47.4849 140.374 47.0149 141.04 46.6373C141.714 46.255 142.402 46.0204 143.103 45.9335C143.805 45.8465 144.489 45.8985 145.156 46.0892C145.822 46.28 146.432 46.5991 146.986 47.0466C147.549 47.4894 148.021 48.0477 148.403 48.7215C148.785 49.3953 149.022 50.0871 149.114 50.7971C149.205 51.507 149.162 52.1968 148.984 52.8666C148.814 53.5317 148.512 54.1432 148.077 54.701C147.647 55.2669 147.095 55.7409 146.421 56.1232C145.756 56.5008 145.066 56.7313 144.351 56.8148C143.645 56.8936 142.958 56.8376 142.292 56.6469C141.626 56.4561 141.012 56.1393 140.449 55.6964C139.891 55.2617 139.421 54.7075 139.039 54.0337ZM140.549 53.1771C140.802 53.6236 141.112 53.9898 141.478 54.2757C141.852 54.5571 142.26 54.7551 142.7 54.87C143.146 54.9929 143.605 55.0169 144.077 54.942C144.554 54.8752 145.02 54.7128 145.475 54.4549C145.93 54.197 146.304 53.8827 146.598 53.512C146.905 53.1449 147.12 52.7386 147.243 52.2933C147.378 51.8515 147.417 51.4001 147.36 50.9392C147.302 50.4783 147.147 50.0246 146.893 49.5781C146.645 49.1397 146.337 48.7775 145.971 48.4916C145.605 48.2057 145.195 48.0036 144.742 47.8852C144.301 47.7704 143.842 47.7464 143.365 47.8132C142.896 47.8754 142.434 48.0354 141.98 48.2933C141.525 48.5512 141.147 48.8678 140.844 49.2431C140.542 49.6184 140.327 50.0247 140.2 50.4619C140.077 50.9072 140.04 51.3626 140.09 51.8281C140.147 52.2891 140.3 52.7387 140.549 53.1771Z"
                   fill="white"
                />
                <path
                   d="M147.328 88.3035L157.692 89.4723L157.256 93.3398C157.176 94.0447 156.976 94.6514 156.656 95.16C156.344 95.679 155.925 96.0638 155.399 96.3144C154.882 96.5661 154.276 96.6527 153.58 96.5743C152.894 96.4969 152.323 96.2728 151.867 95.902C151.419 95.5416 151.096 95.0777 150.897 94.5105C150.698 93.9433 150.638 93.3073 150.717 92.6024L150.94 90.627L147.114 90.1955L147.328 88.3035ZM152.61 90.8152L152.384 92.8185C152.345 93.1617 152.376 93.4658 152.478 93.7308C152.589 93.9969 152.757 94.2131 152.982 94.3795C153.208 94.5458 153.478 94.6467 153.794 94.6823C154.118 94.7189 154.404 94.6807 154.652 94.5677C154.909 94.4558 155.116 94.2819 155.274 94.0462C155.442 93.8115 155.545 93.5225 155.583 93.1794L155.809 91.176L152.61 90.8152Z"
                   fill="white"
                />
                <path
                   d="M142.751 108.416L152.247 112.73L151.459 114.463L143.493 110.844L141.645 114.91L140.116 114.215L142.751 108.416Z"
                   fill="white"
                />
                <path
                   d="M133.903 123.764L139.173 133.457L137.511 135.276L127.385 130.894L128.783 129.364L130.937 130.328L133.657 127.352L132.514 125.283L133.903 123.764ZM134.529 128.889L132.545 131.059L137.55 133.282L137.191 133.675L134.529 128.889Z"
                   fill="white"
                />
                <path
                   d="M116.48 138.722L118.76 142.741L124.683 146.06L122.795 147.131L118.219 144.512L118.889 144.132L118.801 149.397L116.914 150.468L117.098 143.699L114.812 139.669L116.48 138.722Z"
                   fill="white"
                />
                <path
                   d="M78.4224 147.012L80.8707 157.784L78.8118 157.552L76.9417 148.649L77.3452 148.694L73.5392 156.958L71.4802 156.725L76.2522 146.767L78.4224 147.012Z"
                   fill="white"
                />
                <path
                   d="M59.5059 141.996L55.1915 151.492L53.4581 150.704L57.7724 141.208L59.5059 141.996Z"
                   fill="white"
                />
                <path
                   d="M45.6858 133.771L38.6482 141.469L36.1373 139.174C35.3245 138.431 34.7696 137.62 34.4726 136.741C34.1624 135.863 34.1064 134.984 34.3048 134.103C34.4968 133.229 34.9392 132.413 35.632 131.655C36.3184 130.905 37.0946 130.387 37.9605 130.104C38.8202 129.828 39.7042 129.801 40.6127 130.025C41.508 130.249 42.3621 130.733 43.1749 131.476L45.6858 133.771ZM43.1469 133.727L42.0103 132.687C41.4868 132.209 40.938 131.903 40.3639 131.77C39.7766 131.638 39.1999 131.667 38.6337 131.858C38.0612 132.055 37.5325 132.419 37.0475 132.95C36.5563 133.487 36.2412 134.046 36.102 134.627C35.9629 135.208 35.9886 135.782 36.1792 136.348C36.3628 136.908 36.7164 137.427 37.2399 137.906L38.3765 138.945L43.1469 133.727Z"
                   fill="white"
                />
                <path
                   d="M31.7432 118.012L22.6713 123.158L19.2519 117.131L20.7131 116.302L23.1931 120.673L25.5189 119.354L23.1771 115.226L24.6383 114.397L26.9801 118.525L29.3425 117.185L26.8625 112.813L28.3238 111.984L31.7432 118.012Z"
                   fill="white"
                />
                <path
                   d="M23.7013 97.3073C23.8548 98.0571 23.8653 98.7837 23.733 99.4872C23.6007 100.191 23.3464 100.833 22.9701 101.415C22.5938 101.997 22.1137 102.491 21.5298 102.896C20.9348 103.294 20.2624 103.57 19.5126 103.723C18.7537 103.879 18.0271 103.889 17.3327 103.755C16.6384 103.621 16.0039 103.36 15.4293 102.973C14.8546 102.586 14.3728 102.093 13.9839 101.497C13.5859 100.902 13.3092 100.225 13.1539 99.4658C12.9986 98.7069 12.9871 97.9757 13.1194 97.2722C13.2517 96.5687 13.506 95.926 13.8823 95.3441C14.2495 94.764 14.726 94.2759 15.3118 93.8798C15.8957 93.4745 16.5671 93.1942 17.3261 93.0388C18.0759 92.8854 18.8034 92.8794 19.5088 93.0209C20.205 93.1642 20.8404 93.4295 21.4151 93.8168C21.9897 94.2041 22.4761 94.6953 22.8741 95.2902C23.2703 95.876 23.546 96.5484 23.7013 97.3073ZM22.0006 97.6554C21.8976 97.1525 21.7163 96.7085 21.4565 96.3234C21.1875 95.9402 20.8612 95.6259 20.4775 95.3805C20.092 95.126 19.663 94.9613 19.1904 94.8866C18.7159 94.8027 18.2227 94.8131 17.7106 94.9179C17.1986 95.0227 16.7454 95.2059 16.3512 95.4676C15.946 95.722 15.6161 96.042 15.3616 96.4275C15.096 96.8058 14.9194 97.223 14.8318 97.6792C14.7441 98.1353 14.7517 98.6149 14.8547 99.1178C14.9557 99.6115 15.1361 100.051 15.396 100.436C15.6558 100.821 15.983 101.14 16.3777 101.393C16.7613 101.638 17.1904 101.803 17.6649 101.887C18.1302 101.972 18.6189 101.963 19.1309 101.858C19.643 101.753 20.1007 101.569 20.504 101.306C20.9074 101.042 21.2372 100.722 21.4937 100.346C21.7482 99.9601 21.9239 99.5383 22.0207 99.0803C22.1083 98.6241 22.1016 98.1491 22.0006 97.6554Z"
                   fill="white"
                />
             </svg>
          </div>
       </div>

       <BaseModal :max-width="'video'" :show="isModalOpen" @close="closeModal">
           <div class="w-full h-full bg-brand-dark1">
               <iframe
                   class="aspect-[16/9] w-full h-full"
                   src="https://www.youtube.com/embed/XAxgpCVisAg"
                   frameborder="0"
                   allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"
                   allowfullscreen
               ></iframe>
           </div>
       </BaseModal>
    </section>
 </template>
 <script setup lang="ts">
    import { ref } from 'vue';

    const cursorTop = ref(0);
    const cursorLeft = ref(0);
    const isModalOpen = ref(false);

    function updateCursor(event: MouseEvent) {
       const target = event.target as HTMLElement | null;
       if (target) {
          const rect = target.getBoundingClientRect();
          cursorTop.value = event.clientY - rect.top;
          cursorLeft.value = event.clientX - rect.left;
       }
    }

    function openModal() {
        isModalOpen.value = true;
    }

    function closeModal() {
        isModalOpen.value = false;
    }
 </script>
 <style scoped>
    .cursor-container {
       position: absolute;
       width: 170px;
       height: 170px;
       pointer-events: none;
    }
 </style>
